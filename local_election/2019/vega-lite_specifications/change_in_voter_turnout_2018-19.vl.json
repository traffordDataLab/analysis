{
  "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
  "description": "Comparing the voter turnout in the Trafford local elections between 2018 and 2019",
  "autosize": {"type": "fit"},
  "width": 600,
  "height": 500,
  "title": {"text": "Change in voter turnout, 2018 - 2019", "offset": 20},
  "data": {
    "values": [
      {
        "area_code": "E05000819",
        "area_name": "Altrincham",
        "year": 2018,
        "electorate": 8892,
        "ballots_issued": 4133
      },
      {
        "area_code": "E05000820",
        "area_name": "Ashton upon Mersey",
        "year": 2018,
        "electorate": 7617,
        "ballots_issued": 3590
      },
      {
        "area_code": "E05000821",
        "area_name": "Bowdon",
        "year": 2018,
        "electorate": 7335,
        "ballots_issued": 3121
      },
      {
        "area_code": "E05000822",
        "area_name": "Broadheath",
        "year": 2018,
        "electorate": 9891,
        "ballots_issued": 4218
      },
      {
        "area_code": "E05000823",
        "area_name": "Brooklands",
        "year": 2018,
        "electorate": 7844,
        "ballots_issued": 4080
      },
      {
        "area_code": "E05000824",
        "area_name": "Bucklow-St Martins",
        "year": 2018,
        "electorate": 7101,
        "ballots_issued": 2027
      },
      {
        "area_code": "E05000825",
        "area_name": "Clifford",
        "year": 2018,
        "electorate": 8183,
        "ballots_issued": 3212
      },
      {
        "area_code": "E05000826",
        "area_name": "Davyhulme East",
        "year": 2018,
        "electorate": 7758,
        "ballots_issued": 3837
      },
      {
        "area_code": "E05000827",
        "area_name": "Davyhulme West",
        "year": 2018,
        "electorate": 7696,
        "ballots_issued": 3884
      },
      {
        "area_code": "E05000828",
        "area_name": "Flixton",
        "year": 2018,
        "electorate": 8290,
        "ballots_issued": 4562
      },
      {
        "area_code": "E05000829",
        "area_name": "Gorse Hill",
        "year": 2018,
        "electorate": 8357,
        "ballots_issued": 2799
      },
      {
        "area_code": "E05000830",
        "area_name": "Hale Barns",
        "year": 2018,
        "electorate": 7431,
        "ballots_issued": 2900
      },
      {
        "area_code": "E05000831",
        "area_name": "Hale Central",
        "year": 2018,
        "electorate": 7440,
        "ballots_issued": 2999
      },
      {
        "area_code": "E05000832",
        "area_name": "Longford",
        "year": 2018,
        "electorate": 9128,
        "ballots_issued": 3658
      },
      {
        "area_code": "E05000833",
        "area_name": "Priory",
        "year": 2018,
        "electorate": 8191,
        "ballots_issued": 3352
      },
      {
        "area_code": "E05000834",
        "area_name": "St Mary's",
        "year": 2018,
        "electorate": 8597,
        "ballots_issued": 3432
      },
      {
        "area_code": "E05000835",
        "area_name": "Sale Moor",
        "year": 2018,
        "electorate": 7632,
        "ballots_issued": 2777
      },
      {
        "area_code": "E05000836",
        "area_name": "Stretford",
        "year": 2018,
        "electorate": 7928,
        "ballots_issued": 3130
      },
      {
        "area_code": "E05000837",
        "area_name": "Timperley",
        "year": 2018,
        "electorate": 8479,
        "ballots_issued": 4204
      },
      {
        "area_code": "E05000838",
        "area_name": "Urmston",
        "year": 2018,
        "electorate": 8591,
        "ballots_issued": 3890
      },
      {
        "area_code": "E05000839",
        "area_name": "Village",
        "year": 2018,
        "electorate": 7929,
        "ballots_issued": 3267
      },
      {
        "area_code": "E05000819",
        "area_name": "Altrincham",
        "year": 2019,
        "electorate": 8867,
        "ballots_issued": 3898
      },
      {
        "area_code": "E05000820",
        "area_name": "Ashton upon Mersey",
        "year": 2019,
        "electorate": 7500,
        "ballots_issued": 3588
      },
      {
        "area_code": "E05000821",
        "area_name": "Bowdon",
        "year": 2019,
        "electorate": 7242,
        "ballots_issued": 2929
      },
      {
        "area_code": "E05000822",
        "area_name": "Broadheath",
        "year": 2019,
        "electorate": 9960,
        "ballots_issued": 4048
      },
      {
        "area_code": "E05000823",
        "area_name": "Brooklands",
        "year": 2019,
        "electorate": 7735,
        "ballots_issued": 3682
      },
      {
        "area_code": "E05000824",
        "area_name": "Bucklow-St Martins",
        "year": 2019,
        "electorate": 7060,
        "ballots_issued": 1824
      },
      {
        "area_code": "E05000825",
        "area_name": "Clifford",
        "year": 2019,
        "electorate": 8351,
        "ballots_issued": 3012
      },
      {
        "area_code": "E05000826",
        "area_name": "Davyhulme East",
        "year": 2019,
        "electorate": 7700,
        "ballots_issued": 3177
      },
      {
        "area_code": "E05000827",
        "area_name": "Davyhulme West",
        "year": 2019,
        "electorate": 7681,
        "ballots_issued": 3197
      },
      {
        "area_code": "E05000828",
        "area_name": "Flixton",
        "year": 2019,
        "electorate": 8322,
        "ballots_issued": 3787
      },
      {
        "area_code": "E05000829",
        "area_name": "Gorse Hill",
        "year": 2019,
        "electorate": 8391,
        "ballots_issued": 2620
      },
      {
        "area_code": "E05000830",
        "area_name": "Hale Barns",
        "year": 2019,
        "electorate": 7362,
        "ballots_issued": 2817
      },
      {
        "area_code": "E05000831",
        "area_name": "Hale Central",
        "year": 2019,
        "electorate": 7394,
        "ballots_issued": 2973
      },
      {
        "area_code": "E05000832",
        "area_name": "Longford",
        "year": 2019,
        "electorate": 9098,
        "ballots_issued": 3242
      },
      {
        "area_code": "E05000833",
        "area_name": "Priory",
        "year": 2019,
        "electorate": 8052,
        "ballots_issued": 3109
      },
      {
        "area_code": "E05000834",
        "area_name": "St Mary's",
        "year": 2019,
        "electorate": 8611,
        "ballots_issued": 3126
      },
      {
        "area_code": "E05000835",
        "area_name": "Sale Moor",
        "year": 2019,
        "electorate": 7549,
        "ballots_issued": 2601
      },
      {
        "area_code": "E05000836",
        "area_name": "Stretford",
        "year": 2019,
        "electorate": 7843,
        "ballots_issued": 2804
      },
      {
        "area_code": "E05000837",
        "area_name": "Timperley",
        "year": 2019,
        "electorate": 8410,
        "ballots_issued": 3918
      },
      {
        "area_code": "E05000838",
        "area_name": "Urmston",
        "year": 2019,
        "electorate": 8472,
        "ballots_issued": 3394
      },
      {
        "area_code": "E05000839",
        "area_name": "Village",
        "year": 2019,
        "electorate": 7905,
        "ballots_issued": 3217
      }
    ]
  },
  "transform": [
    {
      "calculate": "datum.ballots_issued/datum.electorate", "as": "turnout"
    }
  ],
  "encoding": {
    "x": {
      "field": "turnout",
      "type": "quantitative",
      "scale": { "domain": [0, 1] },
      "axis": {
        "title": "Source: trafford.gov.uk",
        "titleX": 441,
        "titleY": 20,
        "format": "%"
      }
    },
    "y": {
      "field": "area_name",
      "type": "nominal",
      "axis": {
        "title": null,
        "offset": 5,
        "ticks": false,
        "minExtent": 70,
        "domain": false
      }
    }
  },
  "layer": [
    {
      "mark": "line",
      "encoding": {
        "detail": {"field": "area_name", "type": "nominal"},
        "color": {"value": "#212121"},
        "size": {"value": 1}
      }
    },
    {
      "mark": {"type": "point", "filled": true},
      "encoding": {
        "color": {
          "field": "year",
          "type": "ordinal",
          "scale": {"domain": [2018, 2019], "range": ["#ccc", "#333"]},
          "legend": {
            "title": null,
            "orient": "bottom",
            "direction": "horizontal"
          }
        },
        "size": {"value": 100},
        "opacity": {"value": 1},
        "tooltip": [
          {"field": "turnout", "type": "quantitative", "title": "Voter turnout", "format": ".1%"}
        ]
      }
    }
  ],
  "config": {
    "style": {"cell": {"stroke": "transparent"}},
    "axis": {"ticks": false, "domainColor": null}
  }
}
